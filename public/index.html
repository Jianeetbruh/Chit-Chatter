<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
</head>
<body>
<h2>Login</h2>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
<button onclick="window.location.href='register.html'">Register</button>

<script>
function login(){
    const username=document.getElementById('username').value;
    const password=document.getElementById('password').value;
    fetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})})
    .then(r=>r.json()).then(data=>{
        if(data.success){ localStorage.setItem('user',JSON.stringify(data.user)); window.location.href='/chatting.html'; }
        else alert(data.message);
    });
}
</script>
</body>
</html>
